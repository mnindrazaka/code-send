(this["webpackJsonpcode-send-frontend"]=this["webpackJsonpcode-send-frontend"]||[]).push([[0],{250:function(e,t,a){e.exports=a(403)},403:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(65),c=a.n(r),u=(a(254),a(420)),o=a(421),d=a(51),i=a(40),m=function(){return l.a.createElement("div",{"data-testid":"page-dashboard"},"dashboard page")},s=a(404),E=a(417),p=function(){return l.a.createElement("div",{"data-testid":"page-update-log"},l.a.createElement(s.a,{as:d.b,to:"/update/create","data-testid":"button-create-update"},"Create New Update"),l.a.createElement(E.a,null,l.a.createElement(E.a.Header,null,l.a.createElement(E.a.Row,null,l.a.createElement(E.a.HeaderCell,null,"No"),l.a.createElement(E.a.HeaderCell,null,"Date"),l.a.createElement(E.a.HeaderCell,null,"Version"),l.a.createElement(E.a.HeaderCell,null,"Note"))),l.a.createElement(E.a.Body,null,l.a.createElement(E.a.Row,null,l.a.createElement(E.a.Cell,null,"1"),l.a.createElement(E.a.Cell,null,"24/01/2020"),l.a.createElement(E.a.Cell,null,"0.1"),l.a.createElement(E.a.Cell,null,"Update UI")),l.a.createElement(E.a.Row,null,l.a.createElement(E.a.Cell,null,"2"),l.a.createElement(E.a.Cell,null,"25/01/2020"),l.a.createElement(E.a.Cell,null,"0.1"),l.a.createElement(E.a.Cell,null,"Update Text")),l.a.createElement(E.a.Row,null,l.a.createElement(E.a.Cell,null,"3"),l.a.createElement(E.a.Cell,null,"26/01/2020"),l.a.createElement(E.a.Cell,null,"0.1"),l.a.createElement(E.a.Cell,null,"Update Feature")))))},b=a(163),h=a.n(b),f=a(222),v=a(223),C=a(89),g=a(415),w=a(413),O=a(55),U=function(e){var t=e.name,a=e.label,n=Object(O.b)({name:t}),r=Object(C.a)(n,2),c=r[0],u=r[1];return l.a.createElement(g.a.Field,Object.assign({id:t,label:a,control:w.a,error:u.error},c))},j=a(419),R=function(e){var t=e.label,a=e.name,n=Object(O.b)({name:a}),r=Object(C.a)(n,3),c=r[0],u=r[1],o=r[2],d=null,i=function(){return void 0!==u.error},m=function(){d&&d.click()},E=function(e){var t=e.target.files&&e.target.files[0];o.setValue(t)};return l.a.createElement(g.a.Field,{error:i()},l.a.createElement("label",{htmlFor:t},t),l.a.createElement("input",{id:t,type:"file",ref:function(e){return d=e},hidden:!0,onChange:E,onBlur:c.onBlur}),l.a.createElement(s.a,{type:"button",icon:"upload",content:"Choose File",negative:i(),basic:!0,onClick:m,style:{marginRight:10}}),function(){var e=i()?u.error:c.value?c.value.name:"";return e&&l.a.createElement(j.a,{negative:i(),compact:!0,size:"tiny"},e)}())},S=function(e){var t=e.children,a=Object(O.c)().handleSubmit;return l.a.createElement(g.a,{onSubmit:a},t)},y=a(101),_=a(418),k=a(414),B=a(237),F=a.n(B),I=a(166),N=a.n(I),x=Object({NODE_ENV:"production",PUBLIC_URL:"/code-send"}).REACT_APP_CODE_SEND_SERVICE_URL,D=function(e){return N()({baseURL:x,url:"/update",method:"post",data:e})},L=function(e,t){var a=new FormData;return a.append("bundle",t),N()({baseURL:x,url:"/update/".concat(e,"/bundle"),method:"put",data:a})},V=y.b().shape({version:y.c().required(),note:y.c().required(),bundle:y.a().required()}),H={version:"",note:""},q=function(){var e=Object(n.useState)(!1),t=Object(C.a)(e,2),a=t[0],r=t[1],c=Object(i.g)(),u=function(){var e=Object(v.a)(h.a.mark((function e(t){var a,n,l,u;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.bundle,n=Object(f.a)(t,["bundle"]),r(!0),e.next=4,D(n);case 4:return l=e.sent,u=l.data,e.next=8,L(u._id,a);case 8:c.push("/update"),F()({title:"Success",text:"Update Created",icon:"success"});case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return l.a.createElement("div",{"data-testid":"page-update-form"},a?l.a.createElement(_.a,{active:!0,inverted:!0,"data-testid":"loading"},l.a.createElement(k.a,{inverted:!0,size:"medium"},"Submitting Update")):l.a.createElement(O.a,{initialValues:H,validationSchema:V,onSubmit:u},l.a.createElement(S,null,l.a.createElement(U,{name:"version",label:"Version"}),l.a.createElement(U,{name:"note",label:"Note"}),l.a.createElement(R,{name:"bundle",label:"Bundle"}),l.a.createElement(s.a,{type:"submit",primary:!0},"Submit"))))},P=function(){return l.a.createElement("div",{"data-testid":"page-update"},l.a.createElement(i.d,null,l.a.createElement(i.b,{path:"/update/log",component:p}),l.a.createElement(i.b,{path:"/update/create",component:q}),l.a.createElement(i.b,{render:function(){return l.a.createElement(i.a,{to:"/update/log"})}})))},z=function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement(u.a,null,l.a.createElement(u.a.Item,{header:!0},"Code Send")),l.a.createElement(o.a,{columns:2},l.a.createElement(o.a.Column,{width:3},l.a.createElement(u.a,{vertical:!0},l.a.createElement(u.a.Item,{as:d.b,to:"/dashboard","data-testid":"menu-item-dashboard"},"Dashboard"),l.a.createElement(u.a.Item,{as:d.b,to:"/update","data-testid":"menu-item-update"},"Update Log"))),l.a.createElement(o.a.Column,null,l.a.createElement(i.b,{path:"/dashboard",component:m}),l.a.createElement(i.b,{path:"/update",component:P}),l.a.createElement(i.b,{render:function(){return l.a.createElement(i.a,{to:"/dashboard"})}}))))},A=function(){return l.a.createElement(d.a,null,l.a.createElement(z,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(l.a.createElement(A,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[250,1,2]]]);
//# sourceMappingURL=main.679a2d32.chunk.js.map