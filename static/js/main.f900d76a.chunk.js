(this["webpackJsonpcode-send-frontend"]=this["webpackJsonpcode-send-frontend"]||[]).push([[0],{252:function(e,t,a){e.exports=a(405)},405:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(65),c=a.n(l),u=(a(256),a(422)),o=a(423),i=a(51),d=a(40),m=function(){return r.a.createElement("div",{"data-testid":"page-dashboard"},"dashboard page")},s=a(406),E=a(419),p=function(){return r.a.createElement("div",{"data-testid":"page-update-log"},r.a.createElement(s.a,{as:i.b,to:"/update/create","data-testid":"button-create-update"},"Create New Update"),r.a.createElement(E.a,null,r.a.createElement(E.a.Header,null,r.a.createElement(E.a.Row,null,r.a.createElement(E.a.HeaderCell,null,"No"),r.a.createElement(E.a.HeaderCell,null,"Date"),r.a.createElement(E.a.HeaderCell,null,"Version"),r.a.createElement(E.a.HeaderCell,null,"Note"))),r.a.createElement(E.a.Body,null,r.a.createElement(E.a.Row,null,r.a.createElement(E.a.Cell,null,"1"),r.a.createElement(E.a.Cell,null,"24/01/2020"),r.a.createElement(E.a.Cell,null,"0.1"),r.a.createElement(E.a.Cell,null,"Update UI")),r.a.createElement(E.a.Row,null,r.a.createElement(E.a.Cell,null,"2"),r.a.createElement(E.a.Cell,null,"25/01/2020"),r.a.createElement(E.a.Cell,null,"0.1"),r.a.createElement(E.a.Cell,null,"Update Text")),r.a.createElement(E.a.Row,null,r.a.createElement(E.a.Cell,null,"3"),r.a.createElement(E.a.Cell,null,"26/01/2020"),r.a.createElement(E.a.Cell,null,"0.1"),r.a.createElement(E.a.Cell,null,"Update Feature")))))},b=a(166),h=a.n(b),f=a(225),v=a(226),g=a(91),C=a(417),w=a(415),U=a(55),O=function(e){var t=e.name,a=e.label,n=Object(U.b)({name:t}),l=Object(g.a)(n,2),c=l[0],u=l[1];return r.a.createElement(C.a.Field,Object.assign({id:t,label:a,control:w.a,error:u.error},c))},j=a(421),y=function(e){var t=e.label,a=e.name,n=Object(U.b)({name:a}),l=Object(g.a)(n,3),c=l[0],u=l[1],o=l[2],i=null,d=function(){return void 0!==u.error},m=function(){i&&i.click()},E=function(e){var t=e.target.files&&e.target.files[0];o.setValue(t)};return r.a.createElement(C.a.Field,{error:d()},r.a.createElement("label",{htmlFor:t},t),r.a.createElement("input",{id:t,type:"file",ref:function(e){return i=e},hidden:!0,onChange:E,onBlur:c.onBlur}),r.a.createElement(s.a,{type:"button",icon:"upload",content:"Choose File",negative:d(),basic:!0,onClick:m,style:{marginRight:10}}),function(){var e=d()?u.error:c.value?c.value.name:"";return e&&r.a.createElement(j.a,{negative:d(),compact:!0,size:"tiny"},e)}())},R=function(e){var t=e.children,a=Object(U.c)().handleSubmit;return r.a.createElement(C.a,{onSubmit:a},t)},k=a(104),S=a(420),L=a(416),x=a(169),F=a.n(x),_=a(79),B=a(80),I=a(103),N=a.n(I),D=function(){function e(t){Object(_.a)(this,e),this.baseURL=void 0,this.baseURL=t}return Object(B.a)(e,[{key:"handleError",value:function(e){var t=e.data,a=t.status,n=t.message;return"error"===a?Promise.reject(n):e}},{key:"get",value:function(e){return N.a.get(this.baseURL+e).then(this.handleError).then((function(e){return e.data}))}},{key:"post",value:function(e,t){return N.a.post(this.baseURL+e,t).then(this.handleError).then((function(e){return e.data}))}},{key:"put",value:function(e,t){return N.a.put(this.baseURL+e,t).then(this.handleError).then((function(e){return e.data}))}},{key:"delete",value:function(e){return N.a.delete(this.baseURL+e).then(this.handleError).then((function(e){return e.data}))}}]),e}(),V=Object({NODE_ENV:"production",PUBLIC_URL:"/code-send"}).REACT_APP_CODE_SEND_SERVICE_URL,H=new D(V),P=function(e){return H.post("/update",e)},q=function(e,t){var a=new FormData;return a.append("bundle",t),H.put("/update/".concat(e,"/bundle"),a)},z=k.b().shape({version:k.c().required(),note:k.c().required(),bundle:k.a().required()}),A={version:"",note:""},J=function(){var e=Object(n.useState)(!1),t=Object(g.a)(e,2),a=t[0],l=t[1],c=Object(d.g)(),u=function(){var e=Object(v.a)(h.a.mark((function e(t){var a,n,r,u;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.bundle,n=Object(f.a)(t,["bundle"]),e.prev=1,l(!0),e.next=5,P(n);case 5:return r=e.sent,u=r._id,e.next=9,q(u,a);case 9:F()({title:"Success",text:"Update Created",icon:"success"}),c.push("/update"),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(1),F()({title:"Failed",text:e.t0.message,icon:"error"});case 16:return e.prev=16,l(!1),e.finish(16);case 19:case"end":return e.stop()}}),e,null,[[1,13,16,19]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",{"data-testid":"page-update-form"},a?r.a.createElement(S.a,{active:!0,inverted:!0},r.a.createElement(L.a,{inverted:!0,size:"medium"},"Submitting Update")):r.a.createElement(U.a,{initialValues:A,validationSchema:z,onSubmit:u},r.a.createElement(R,null,r.a.createElement(O,{name:"version",label:"Version"}),r.a.createElement(O,{name:"note",label:"Note"}),r.a.createElement(y,{name:"bundle",label:"Bundle"}),r.a.createElement(s.a,{type:"submit",primary:!0},"Submit"))))},T=function(){return r.a.createElement("div",{"data-testid":"page-update"},r.a.createElement(d.d,null,r.a.createElement(d.b,{path:"/update/log",component:p}),r.a.createElement(d.b,{path:"/update/create",component:J}),r.a.createElement(d.b,{render:function(){return r.a.createElement(d.a,{to:"/update/log"})}})))},W=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(u.a,null,r.a.createElement(u.a.Item,{header:!0},"Code Send")),r.a.createElement(o.a,{columns:2},r.a.createElement(o.a.Column,{width:3},r.a.createElement(u.a,{vertical:!0},r.a.createElement(u.a.Item,{as:i.b,to:"/dashboard","data-testid":"menu-item-dashboard"},"Dashboard"),r.a.createElement(u.a.Item,{as:i.b,to:"/update","data-testid":"menu-item-update"},"Update Log"))),r.a.createElement(o.a.Column,null,r.a.createElement(d.b,{path:"/dashboard",component:m}),r.a.createElement(d.b,{path:"/update",component:T}),r.a.createElement(d.b,{render:function(){return r.a.createElement(d.a,{to:"/dashboard"})}}))))},$=function(){return r.a.createElement(i.a,null,r.a.createElement(W,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement($,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[252,1,2]]]);
//# sourceMappingURL=main.f900d76a.chunk.js.map