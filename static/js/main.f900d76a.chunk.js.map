{"version":3,"sources":["modules/dashboard/index.tsx","modules/dashboard/page.tsx","modules/update/updateLog.tsx","components/formikWrapper/textField.tsx","components/formikWrapper/fileField.tsx","components/formikWrapper/form.tsx","utils/api/service.ts","utils/api/codeSendService.ts","modules/update/updateForm.tsx","modules/update/index.tsx","modules/update/page.tsx","modules/main/index.tsx","modules/main/page.tsx","App.tsx","serviceWorker.ts","index.tsx"],"names":["Dashboard","data-testid","UpdateLog","Button","as","Link","to","Table","Header","Row","HeaderCell","Body","Cell","TextField","name","label","useField","field","meta","Field","id","control","Input","error","FileField","helper","inputFile","isError","undefined","handleButtonClick","click","handleFileChange","event","selectedFile","target","files","setValue","htmlFor","type","ref","hidden","onChange","onBlur","icon","content","negative","basic","onClick","style","marginRight","message","value","Message","compact","size","renderMessage","Form","children","handleSubmit","useFormikContext","onSubmit","Service","baseURL","this","res","data","status","Promise","reject","endpoint","axios","get","then","handleError","post","put","delete","process","REACT_APP_CODE_SEND_SERVICE_URL","service","update","bundle","formData","FormData","append","validationSchema","yup","shape","version","required","note","initialValues","UpdateForm","useState","loading","setLoading","history","useHistory","a","rest","codeSendService","_id","swal","title","text","push","Dimmer","active","inverted","Loader","primary","Update","path","component","render","Main","Menu","Item","header","Grid","columns","Column","width","vertical","App","Boolean","window","location","hostname","match","ReactDOM","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.f900d76a.chunk.js","sourcesContent":["import Dashboard from \"./page\";\nexport default Dashboard;\n","import React from \"react\";\n\nconst Page: React.FC = () => {\n  return <div data-testid=\"page-dashboard\">dashboard page</div>;\n};\n\nexport default Page;\n","import React from \"react\";\nimport { Table, Button } from \"semantic-ui-react\";\nimport { Link } from \"react-router-dom\";\n\nconst UpdateLog: React.FC = () => {\n  return (\n    <div data-testid=\"page-update-log\">\n      <Button as={Link} to=\"/update/create\" data-testid=\"button-create-update\">\n        Create New Update\n      </Button>\n\n      <Table>\n        <Table.Header>\n          <Table.Row>\n            <Table.HeaderCell>No</Table.HeaderCell>\n            <Table.HeaderCell>Date</Table.HeaderCell>\n            <Table.HeaderCell>Version</Table.HeaderCell>\n            <Table.HeaderCell>Note</Table.HeaderCell>\n          </Table.Row>\n        </Table.Header>\n        <Table.Body>\n          <Table.Row>\n            <Table.Cell>1</Table.Cell>\n            <Table.Cell>24/01/2020</Table.Cell>\n            <Table.Cell>0.1</Table.Cell>\n            <Table.Cell>Update UI</Table.Cell>\n          </Table.Row>\n          <Table.Row>\n            <Table.Cell>2</Table.Cell>\n            <Table.Cell>25/01/2020</Table.Cell>\n            <Table.Cell>0.1</Table.Cell>\n            <Table.Cell>Update Text</Table.Cell>\n          </Table.Row>\n          <Table.Row>\n            <Table.Cell>3</Table.Cell>\n            <Table.Cell>26/01/2020</Table.Cell>\n            <Table.Cell>0.1</Table.Cell>\n            <Table.Cell>Update Feature</Table.Cell>\n          </Table.Row>\n        </Table.Body>\n      </Table>\n    </div>\n  );\n};\n\nexport default UpdateLog;\n","import React from \"react\";\nimport { Form, Input } from \"semantic-ui-react\";\nimport { useField } from \"formik\";\n\ninterface TextFieldProps {\n  label: string;\n  name: string;\n}\n\nexport const TextField: React.FC<TextFieldProps> = ({ name, label }) => {\n  const [field, meta] = useField({ name });\n  return (\n    <Form.Field\n      id={name}\n      label={label}\n      control={Input}\n      error={meta.error}\n      {...field}\n    ></Form.Field>\n  );\n};\n","import React from \"react\";\nimport { Button, Form, Message } from \"semantic-ui-react\";\nimport { useField } from \"formik\";\n\ninterface FileFieldProps {\n  label: string;\n  name: string;\n}\n\nexport const FileField: React.FC<FileFieldProps> = ({ label, name }) => {\n  const [field, meta, helper] = useField<File>({ name });\n  let inputFile: HTMLInputElement | null = null;\n\n  const isError = () => {\n    return meta.error !== undefined;\n  };\n\n  const handleButtonClick = () => {\n    inputFile && inputFile.click();\n  };\n\n  const handleFileChange = (event: React.ChangeEvent<HTMLInputElement>) => {\n    const selectedFile = event.target.files && event.target.files[0];\n    helper.setValue(selectedFile!);\n  };\n\n  const renderInput = () => {\n    return (\n      <input\n        id={label}\n        type=\"file\"\n        ref={ref => (inputFile = ref)}\n        hidden\n        onChange={handleFileChange}\n        onBlur={field.onBlur}\n      />\n    );\n  };\n\n  const renderButton = () => {\n    return (\n      <Button\n        type=\"button\"\n        icon=\"upload\"\n        content=\"Choose File\"\n        negative={isError()}\n        basic\n        onClick={handleButtonClick}\n        style={{ marginRight: 10 }}\n      />\n    );\n  };\n\n  const renderMessage = () => {\n    const message = isError()\n      ? meta.error\n      : field.value\n      ? field.value.name\n      : \"\";\n    return (\n      message && (\n        <Message negative={isError()} compact size=\"tiny\">\n          {message}\n        </Message>\n      )\n    );\n  };\n\n  return (\n    <Form.Field error={isError()}>\n      <label htmlFor={label}>{label}</label>\n      {renderInput()}\n      {renderButton()}\n      {renderMessage()}\n    </Form.Field>\n  );\n};\n","import React from \"react\";\nimport { Form as SemanticForm } from \"semantic-ui-react\";\nimport { useFormikContext } from \"formik\";\n\nexport const Form: React.FC = ({ children }) => {\n  const { handleSubmit } = useFormikContext();\n  return <SemanticForm onSubmit={handleSubmit}>{children}</SemanticForm>;\n};\n","import axios, { AxiosResponse } from \"axios\";\n\nexport default class Service {\n  baseURL: string;\n\n  constructor(baseURL: string) {\n    this.baseURL = baseURL;\n  }\n\n  private handleError(res: AxiosResponse) {\n    const { status, message } = res.data;\n    return status === \"error\" ? Promise.reject(message) : res;\n  }\n\n  public get(endpoint: string) {\n    return axios\n      .get(this.baseURL + endpoint)\n      .then(this.handleError)\n      .then(res => res.data);\n  }\n\n  public post(endpoint: string, data: any) {\n    return axios\n      .post(this.baseURL + endpoint, data)\n      .then(this.handleError)\n      .then(res => res.data);\n  }\n\n  public put(endpoint: string, data: any) {\n    return axios\n      .put(this.baseURL + endpoint, data)\n      .then(this.handleError)\n      .then(res => res.data);\n  }\n\n  public delete(endpoint: string) {\n    return axios\n      .delete(this.baseURL + endpoint)\n      .then(this.handleError)\n      .then(res => res.data);\n  }\n}\n","import { UpdateFormValues } from \"interfaces/Update\";\nimport Service from \"./service\";\n\nconst baseURL = process.env.REACT_APP_CODE_SEND_SERVICE_URL as string;\nconst service = new Service(baseURL);\n\nconst createUpdate = (update: UpdateFormValues) => {\n  return service.post(\"/update\", update);\n};\n\nconst uploadUpdate = (id: string, bundle: Blob) => {\n  const formData = new FormData();\n  formData.append(\"bundle\", bundle);\n  return service.put(`/update/${id}/bundle`, formData);\n};\n\nexport default {\n  baseURL,\n  createUpdate,\n  uploadUpdate\n};\n","import React, { useState } from \"react\";\nimport { TextField, Form, FileField } from \"components/formikWrapper\";\nimport { UpdateFormValues } from \"interfaces/Update\";\nimport { Formik } from \"formik\";\nimport * as yup from \"yup\";\nimport { Button, Loader, Dimmer } from \"semantic-ui-react\";\nimport swal from \"sweetalert\";\nimport codeSendService from \"utils/api/codeSendService\";\nimport { useHistory } from \"react-router\";\n\nconst validationSchema = yup.object().shape({\n  version: yup.string().required(),\n  note: yup.string().required(),\n  bundle: yup.mixed().required()\n});\n\nconst initialValues: UpdateFormValues = {\n  version: \"\",\n  note: \"\"\n};\n\nconst UpdateForm: React.FC = () => {\n  const [loading, setLoading] = useState(false);\n  const history = useHistory();\n\n  const handleSubmit = async ({ bundle, ...rest }: UpdateFormValues) => {\n    try {\n      setLoading(true);\n      const { _id } = await codeSendService.createUpdate(rest);\n      await codeSendService.uploadUpdate(_id, bundle!);\n      swal({\n        title: \"Success\",\n        text: \"Update Created\",\n        icon: \"success\"\n      });\n      history.push(\"/update\");\n    } catch (error) {\n      swal({\n        title: \"Failed\",\n        text: error.message,\n        icon: \"error\"\n      });\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const renderForm = () => {\n    return (\n      <Formik\n        initialValues={initialValues}\n        validationSchema={validationSchema}\n        onSubmit={handleSubmit}\n      >\n        <Form>\n          <TextField name=\"version\" label=\"Version\" />\n          <TextField name=\"note\" label=\"Note\" />\n          <FileField name=\"bundle\" label=\"Bundle\" />\n          <Button type=\"submit\" primary>\n            Submit\n          </Button>\n        </Form>\n      </Formik>\n    );\n  };\n\n  const renderLoading = () => {\n    return (\n      <Dimmer active inverted>\n        <Loader inverted size=\"medium\">\n          Submitting Update\n        </Loader>\n      </Dimmer>\n    );\n  };\n\n  return (\n    <div data-testid=\"page-update-form\">\n      {loading ? renderLoading() : renderForm()}\n    </div>\n  );\n};\n\nexport default UpdateForm;\n","import Update from \"./page\";\nexport default Update;\n","import React from \"react\";\nimport { Route, Redirect, Switch } from \"react-router-dom\";\nimport UpdateLog from \"./updateLog\";\nimport UpdateForm from \"./updateForm\";\n\nconst Page: React.FC = () => {\n  return (\n    <div data-testid=\"page-update\">\n      <Switch>\n        <Route path=\"/update/log\" component={UpdateLog} />\n        <Route path=\"/update/create\" component={UpdateForm} />\n        <Route render={() => <Redirect to=\"/update/log\" />} />\n      </Switch>\n    </div>\n  );\n};\n\nexport default Page;\n","import Main from \"./page\";\nexport default Main;\n","import React from \"react\";\nimport { Menu, Grid } from \"semantic-ui-react\";\nimport { Link, Route, Redirect } from \"react-router-dom\";\nimport Dashboard from \"modules/dashboard\";\nimport Update from \"modules/update\";\n\nconst Page: React.FC = () => {\n  return (\n    <>\n      <Menu>\n        <Menu.Item header>Code Send</Menu.Item>\n      </Menu>\n\n      <Grid columns={2}>\n        <Grid.Column width={3}>\n          <Menu vertical>\n            <Menu.Item\n              as={Link}\n              to=\"/dashboard\"\n              data-testid=\"menu-item-dashboard\"\n            >\n              Dashboard\n            </Menu.Item>\n            <Menu.Item as={Link} to=\"/update\" data-testid=\"menu-item-update\">\n              Update Log\n            </Menu.Item>\n          </Menu>\n        </Grid.Column>\n        <Grid.Column>\n          <Route path=\"/dashboard\" component={Dashboard} />\n          <Route path=\"/update\" component={Update} />\n          <Route render={() => <Redirect to=\"/dashboard\" />} />\n        </Grid.Column>\n      </Grid>\n    </>\n  );\n};\n\nexport default Page;\n","import React from \"react\";\nimport Main from \"modules/main\";\nimport { BrowserRouter } from \"react-router-dom\";\n\nconst App: React.FC = () => {\n  return (\n    <BrowserRouter>\n      <Main />\n    </BrowserRouter>\n  );\n};\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === \"localhost\" ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === \"[::1]\" ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === \"production\" && \"serviceWorker\" in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener(\"load\", () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            \"This web app is being served cache-first by a service \" +\n              \"worker. To learn more, visit https://bit.ly/CRA-PWA\"\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === \"installed\") {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                \"New content is available and will be used when all \" +\n                  \"tabs for this page are closed. See https://bit.ly/CRA-PWA.\"\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log(\"Content is cached for offline use.\");\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error(\"Error during service worker registration:\", error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { \"Service-Worker\": \"script\" }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get(\"content-type\");\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf(\"javascript\") === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        \"No internet connection found. App is running in offline mode.\"\n      );\n    });\n}\n\nexport function unregister() {\n  if (\"serviceWorker\" in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"semantic-ui-css/semantic.min.css\";\nimport App from \"./App\";\nimport * as serviceWorker from \"./serviceWorker\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}